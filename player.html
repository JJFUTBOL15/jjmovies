<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor Embed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

    <div id="player-container" class="w-full h-full flex items-center justify-center">
        <div id="loading" class="text-white font-bold animate-pulse">Cargando video...</div>
    </div>

    <script>
        const API_KEY = 'da8b836389708e0558de674492931977'; // Tu API de TMDB
        
        async function loadVideo() {
            const params = new URLSearchParams(window.location.search);
            const id = params.get('id');
            const season = params.get('season');
            const episode = params.get('episode');
            const container = document.getElementById('player-container');

            if (!id) {
                container.innerHTML = "<div class='text-red-500'>Error: Falta ID</div>";
                return;
            }

            // Estructura de Unlimplay que solicitaste
            let embedUrl = "";
            if (season && episode) {
                // Es una Serie
                embedUrl = `https://unlimplay.com/play/embed/tv/${id}/${season}/${episode}`;
            } else {
                // Es una Pel√≠cula
                embedUrl = `https://unlimplay.com/play/embed/movie/${id}`;
            }

            // Insertar el iframe directamente para que ocupe todo el espacio
            container.innerHTML = `
                <iframe 
                    src="${embedUrl}" 
                    allowfullscreen 
                    allow="autoplay; encrypted-media" 
                    frameborder="0">
                </iframe>`;
        }

        loadVideo();
    </script>
</body>
</html>
