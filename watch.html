<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JJMovies | Reproductor</title>
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Plyr CSS & JS -->
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
<script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
<!-- HLS.js -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        brand: {
          DEFAULT: '#ff3333',
          light: '#ff6666',
          dark: '#cc0000',
          glow: 'rgba(255, 51, 51, 0.5)'
        }
      },
      fontFamily: {
        sans: ['Outfit', 'sans-serif'],
      },
    }
  }
}
</script>
<style>
body {
  background-color: #050505;
  color: white;
  overflow-x: hidden;
}
.glass-panel {
  background: rgba(20, 20, 20, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
}
.hidden-force { display: none !important; }
:root {
  --plyr-color-main: #ff3333;
}
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: #050505; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: #ff3333; }
</style>
</head>
<body class="relative min-h-screen font-sans">

<!-- Navbar -->
<nav class="fixed top-0 w-full z-40 px-8 py-6 flex justify-between items-center">
  <div class="text-2xl font-bold">JJ<span class="text-brand">MOVIES</span></div>
</nav>

<!-- Contenido -->
<div class="relative z-10 container mx-auto px-6 pt-24 pb-12">
  <div id="movie-info" class="max-w-3xl">
    <h1 id="movie-title" class="text-4xl md:text-6xl font-bold mb-4">Cargando...</h1>
    <p id="movie-overview" class="text-gray-300 text-lg mb-6">Obteniendo información...</p>
    
    <button onclick="startScraping()" class="px-8 py-4 bg-brand hover:bg-white rounded-full font-bold text-white hover:text-brand transition-all shadow-lg">
      <i class="fas fa-play mr-2"></i> REPRODUCIR AHORA
    </button>
  </div>
</div>

<!-- Player Modal -->
<div id="player-modal" class="fixed inset-0 z-50 bg-black hidden">
  <video id="player" class="w-full h-full" playsinline controls></video>
  <div id="iframe-container" class="absolute inset-0 hidden"></div>
</div>

<script>
// === CONFIG ===
const API_KEY = '936410eebae74f9895643e085cc4a740';
const PROXY_URL = 'https://api.codetabs.com/v1/proxy/?quest=';

let movieData = { id: null, isSeries: false, season: null, episode: null };

document.addEventListener('DOMContentLoaded', () => {
  const params = new URLSearchParams(window.location.search);
  const id = params.get('id');
  const season = params.get('season');
  const episode = params.get('episode');

  if (!id) {
    alert('Usa ?id=123');
    return;
  }

  movieData.id = id;
  movieData.isSeries = !!(season && episode);
  movieData.season = season;
  movieData.episode = episode;

  loadMovieData();
});

async function loadMovieData() {
  const type = movieData.isSeries ? 'tv' : 'movie';
  const url = `https://api.themoviedb.org/3/${type}/${movieData.id}?api_key=${API_KEY}&language=es-ES`;
  
  try {
    const res = await fetch(url);
    const data = await res.json();
    
    document.getElementById('movie-title').textContent = data.title || data.name || 'Película';
    document.getElementById('movie-overview').textContent = data.overview || 'Sinopsis no disponible.';
  } catch (e) {
    console.error(e);
  }
}

async function startScraping() {
  // Simular scraping (en realidad, redirigir)
  alert("Fuentes no disponibles temporalmente.\nVisita VerHDLink o Cuevana directamente.");
}
</script>
</body>
</html>
